version: "3"
services:
  wait:
    image: dokku/wait
    environment:
      timeout: 300s
  rabbitmq:
    image: rabbitmq:3.8.9-alpine
    container_name: rabbitmq
    environment:
      - RABBITMQ_DEFAULT_USER=root
      - RABBITMQ_DEFAULT_PASS=root
      - RABBITMQ_ERLANG_COOKIE=fzcookie
    ports:
      - "5672:5672"
      - "15672:15672"
  naming-service : 
      build : ./naming-service
      ports:
        - "8761:8761"
  # gateway :
  #   build : ./gateway
  #   ports:
  #     - "8765:8765"
  #   environment:
  #     WAIT_HOSTS: naming-service:8761,rabbitmq:5672
  # user-service : 
  #   build : ./user-service
  #   environment:
  #     WAIT_HOSTS: gateway:8765
  #   ports:
  #     - "8080:8080"